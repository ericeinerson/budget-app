@inject IDbContextFactory<BudgetAppDbContext> ContextFactory;

@if(ItemType is not null)
{
    <EditForm Model="@ItemType" OnValidSubmit=@HandleValidSubmit
    OnInvalidSubmit=@HandleInvalidSubmit>
        <DataAnnotationsValidator/>
        <ValidationSummary/>

        <div class="mb-3">
            <label for="item-type-name" class="form-label">Name</label>
            <InputText id="item-type-name"
            class="form-control"
                        @bind-Value="ItemType.Name"/>
            <ValidationMessage For="() => ItemType.Name"/>
        </div>

        @if(IsEdit)
        {
            <button type="submit" class="btn btn-primary" disabled="@IsBusy">Update</button>
            <button type="button" class="btn btn-secondary" disabled="@IsBusy"
            @onclick="@HandleCancel">Cancel</button>
        }
        else
        {
            <button type="submit" class="btn btn-primary" disabled=@IsBusy>Add</button>
        }
    </EditForm>
}